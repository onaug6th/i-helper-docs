(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{406:function(t,s,a){"use strict";a.r(s);var n=a(29),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"ihelper-api-参考"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ihelper-api-参考"}},[t._v("#")]),t._v(" iHelper API 参考")]),t._v(" "),a("p",[t._v("iHelper往插件的全局对象（window）中，挂载了名为"),a("code",[t._v("iHelper")]),t._v("的api方法。你可以在页面中调用此方法。")]),t._v(" "),a("h2",{attrs:{id:"应用相关"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#应用相关"}},[t._v("#")]),t._v(" 应用相关")]),t._v(" "),a("h3",{attrs:{id:"getuser"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getuser"}},[t._v("#")]),t._v(" getUser()")]),t._v(" "),a("p",[t._v("获取当前登录账户信息")]),t._v(" "),a("h3",{attrs:{id:"getwininfo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getwininfo"}},[t._v("#")]),t._v(" getWinInfo()")]),t._v(" "),a("p",[t._v("获取当前窗体的信息")]),t._v(" "),a("ul",[a("li",[t._v("返回：")])]),t._v(" "),a("div",{staticClass:"language-ts line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("WinInfo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  pluginId"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  viewId"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("number")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  fatherViewId"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("number")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  isDev"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("boolean")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("h3",{attrs:{id:"getpluginwinsinfo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getpluginwinsinfo"}},[t._v("#")]),t._v(" getPluginWinsInfo()")]),t._v(" "),a("p",[t._v("获取插件所有窗体的信息")]),t._v(" "),a("ul",[a("li",[t._v("返回："),a("code",[t._v("{Array<PluginWin>} 插件所有窗体的信息")])])]),t._v(" "),a("h3",{attrs:{id:"createbrowserwindow-url-options"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#createbrowserwindow-url-options"}},[t._v("#")]),t._v(" createBrowserWindow(url, options)")]),t._v(" "),a("p",[t._v("创建一个新插件窗体")]),t._v(" "),a("ul",[a("li",[t._v("参数：")])]),t._v(" "),a("ol",[a("li",[a("code",[t._v("{string} url 窗体地址")])]),t._v(" "),a("li",[a("code",[t._v("{BrowserWindowConstructorOptions} options 窗体配置（可选）")])])]),t._v(" "),a("ul",[a("li",[t._v("返回："),a("code",[t._v("{Object} 新窗体的窗体信息")])])]),t._v(" "),a("p",[t._v("如果重复打开相同"),a("code",[t._v("url")]),t._v("的窗体，iHelper会将相同"),a("code",[t._v("url")]),t._v("的窗体显示出来，而不会是再创建一个新窗体。")]),t._v(" "),a("p",[t._v("如需要打开相同"),a("code",[t._v("url")]),t._v("的多个窗体，可以设置"),a("code",[t._v("options")]),t._v("的"),a("code",[t._v("newInstance")]),t._v("属性值为"),a("code",[t._v("true")]),t._v("。来强制打开新的窗体")]),t._v(" "),a("h3",{attrs:{id:"send-id-event-args"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#send-id-event-args"}},[t._v("#")]),t._v(" send(id, event, ...args)")]),t._v(" "),a("p",[t._v("往指定id窗体发送事件")]),t._v(" "),a("ul",[a("li",[t._v("参数：")])]),t._v(" "),a("ol",[a("li",[a("code",[t._v("{number|string} id 窗体ID|插件ID")])]),t._v(" "),a("li",[a("code",[t._v("{string} event 事件名")])]),t._v(" "),a("li",[a("code",[t._v("{Array<any>} args 传递的任意数量参数")])])]),t._v(" "),a("p",[t._v("调用此方法能够往指定窗体ID/插件ID的窗体发送事件，如目标窗体监听了对应的事件名，则会执行回调。")]),t._v(" "),a("p",[t._v("当id为字符串时，则会发送事件给所有插件id等于此id的窗体。")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" note "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" content"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'便笺内容'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" index "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" winId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\niHelper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("winId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'note-add'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" note"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" pluginId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'7b1dcadb-ff82-4d14-bfca-5e2800462157'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\niHelper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pluginId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'node-add'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" note"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])]),a("h3",{attrs:{id:"on-event-callback"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#on-event-callback"}},[t._v("#")]),t._v(" on(event, callback)")]),t._v(" "),a("p",[t._v("监听窗体事件")]),t._v(" "),a("ul",[a("li",[t._v("参数：")])]),t._v(" "),a("ol",[a("li",[a("code",[t._v("{string} event 事件名")])]),t._v(" "),a("li",[a("code",[t._v("{Function} callback 回调函数")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("{Array<any>any[]} args 回调参数")])])])])]),t._v(" "),a("p",[t._v("调用此方法可监听其他窗体往本窗体发送的事件，并执行回调;")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("iHelper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'note-add'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("args")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  do sth...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h3",{attrs:{id:"setalwaysontop-alwaysontop"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setalwaysontop-alwaysontop"}},[t._v("#")]),t._v(" setAlwaysOnTop(alwaysOnTop)")]),t._v(" "),a("p",[t._v("插件窗体置顶")]),t._v(" "),a("ul",[a("li",[t._v("参数：")])]),t._v(" "),a("ol",[a("li",[a("code",[t._v("{boolean} alwaysOnTop 是否置顶")])])]),t._v(" "),a("h3",{attrs:{id:"minimize"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#minimize"}},[t._v("#")]),t._v(" minimize()")]),t._v(" "),a("p",[t._v("插件窗体最小化")]),t._v(" "),a("h3",{attrs:{id:"unmaximize"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#unmaximize"}},[t._v("#")]),t._v(" unmaximize()")]),t._v(" "),a("p",[t._v("插件窗体缩放")]),t._v(" "),a("h3",{attrs:{id:"maximize"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#maximize"}},[t._v("#")]),t._v(" maximize()")]),t._v(" "),a("p",[t._v("插件窗体最大化")]),t._v(" "),a("h3",{attrs:{id:"hide"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hide"}},[t._v("#")]),t._v(" hide()")]),t._v(" "),a("p",[t._v("隐藏插件窗体")]),t._v(" "),a("h3",{attrs:{id:"close"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#close"}},[t._v("#")]),t._v(" close()")]),t._v(" "),a("p",[t._v("关闭当前窗体")]),t._v(" "),a("p",[t._v("如当前窗体为插件的父窗体，则会回收通过此插件打开的所有子窗体")]),t._v(" "),a("h3",{attrs:{id:"settitle-title"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#settitle-title"}},[t._v("#")]),t._v(" setTitle(title)")]),t._v(" "),a("p",[t._v("设置当前窗体标题")]),t._v(" "),a("ul",[a("li",[t._v("参数：")])]),t._v(" "),a("ol",[a("li",[a("code",[t._v("{string} title 标题")])])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("iHelper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTitle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'自定义标题'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h2",{attrs:{id:"剪贴板"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#剪贴板"}},[t._v("#")]),t._v(" 剪贴板")]),t._v(" "),a("h3",{attrs:{id:"clipboard-on-callback"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#clipboard-on-callback"}},[t._v("#")]),t._v(" clipboard.on(callback)")]),t._v(" "),a("p",[t._v("监听剪贴板变化")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("需要监听剪贴板变化的插件，需要在 "),a("code",[t._v("plugin.json")]),t._v(" 中配置"),a("RouterLink",{attrs:{to:"/guide/advanced/config.html#"}},[t._v("权限")]),t._v(" "),a("code",[t._v("permissions.clipboard = true")]),t._v("。iHelper才会往此插件通知剪贴板改变事件。")],1)]),t._v(" "),a("hr"),t._v(" "),a("ul",[a("li",[t._v("参数：")])]),t._v(" "),a("ol",[a("li",[a("code",[t._v("{Function} callback 剪贴板变化回调函数")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("{string} type 剪贴板变化类型 ['text', 'image']")])]),t._v(" "),a("li",[a("code",[t._v("{string} value 剪贴板变化后的值")])])])])]),t._v(" "),a("p",[t._v("调用此方法可监听剪贴板变化回调")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("iHelper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clipboard"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'剪贴板内容变化类型'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'剪贴板变化内容'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("h3",{attrs:{id:"clipboard-writetext-value"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#clipboard-writetext-value"}},[t._v("#")]),t._v(" clipboard.writeText(value)")]),t._v(" "),a("p",[t._v("往剪贴板中写入文本")]),t._v(" "),a("ul",[a("li",[t._v("参数：")])]),t._v(" "),a("ol",[a("li",[a("code",[t._v("{string} value 文本")])])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("iHelper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clipboard"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("writeText")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'新的内容'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h3",{attrs:{id:"clipboard-writeimage-value"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#clipboard-writeimage-value"}},[t._v("#")]),t._v(" clipboard.writeImage(value)")]),t._v(" "),a("p",[t._v("往剪贴板中写入图片")]),t._v(" "),a("ul",[a("li",[t._v("参数：")])]),t._v(" "),a("ol",[a("li",[a("code",[t._v("{string} value 图片的base64内容")])])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("iHelper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clipboard"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("writeImage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data:image/png;base64,iVBORw0KG...'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h2",{attrs:{id:"数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据库"}},[t._v("#")]),t._v(" 数据库")]),t._v(" "),a("h3",{attrs:{id:"db-insert-data"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#db-insert-data"}},[t._v("#")]),t._v(" db.insert(data)")]),t._v(" "),a("p",[t._v("往插件数据库中写入新数据")]),t._v(" "),a("ul",[a("li",[t._v("参数：")])]),t._v(" "),a("ol",[a("li",[a("code",[t._v("{Object} data 写入的数据")])])]),t._v(" "),a("ul",[a("li",[t._v("返回："),a("code",[t._v("{Object} 包含写入信息（createdAt，updatedAt，_id）的数据")])])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  content"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'august'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" iHelper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("insert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('/**\n * {\n    "_id": "2Ut8jtPpO39nPuBK",\n    "content": "august",\n    "createdAt": "2021-07-01T04:51:44.877Z",\n    "updatedAt": "2021-07-01T04:51:44.877Z"\n  }\n */')]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br")])]),a("h3",{attrs:{id:"db-remove-query-options"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#db-remove-query-options"}},[t._v("#")]),t._v(" db.remove(query, options)")]),t._v(" "),a("p",[t._v("插件数据库中删除符合条件数据")]),t._v(" "),a("ul",[a("li",[t._v("参数：")])]),t._v(" "),a("ol",[a("li",[a("code",[t._v("{Object} query 查询条件")])]),t._v(" "),a("li",[a("code",[t._v("{Object} options 删除配置（可选）")])])]),t._v(" "),a("ul",[a("li",[t._v("返回："),a("code",[t._v("{number} 删除数据的数量")])])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("iHelper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("remove")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" _id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'12asd-asda1-1af12'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h3",{attrs:{id:"db-update-query-updatequery-options"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#db-update-query-updatequery-options"}},[t._v("#")]),t._v(" db.update(query, updateQuery, options)")]),t._v(" "),a("p",[t._v("插件数据库更新数据")]),t._v(" "),a("ul",[a("li",[t._v("参数：")])]),t._v(" "),a("ol",[a("li",[a("code",[t._v("{Object} query 查询条件")])]),t._v(" "),a("li",[a("code",[t._v("{Object} updateQuery 更新数据")])]),t._v(" "),a("li",[a("code",[t._v("{Object} options 删除配置（可选）")])])]),t._v(" "),a("ul",[a("li",[t._v("返回："),a("code",[t._v("{Object} 更新完毕的数据")])])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  注意，更新数据时。需要将旧数据中的其他属性值也带上，否则将会丢失")]),t._v("\niHelper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" author"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'august'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" author"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'august'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" conetnt"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'更新的内容'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("h3",{attrs:{id:"db-find-query-desc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#db-find-query-desc"}},[t._v("#")]),t._v(" db.find(query, desc)")]),t._v(" "),a("p",[t._v("数据库中查找符合条件的多条数据，并按照指定顺序返回")]),t._v(" "),a("ul",[a("li",[t._v("参数：")])]),t._v(" "),a("ol",[a("li",[a("code",[t._v("{Object} query 查询条件（可选）")])]),t._v(" "),a("li",[a("code",[t._v("{boolean} desc 是否倒序查询，默认为true（可选）")])])]),t._v(" "),a("ul",[a("li",[t._v("返回："),a("code",[t._v("{Array<Object>} 符合条件的数据")])])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" iHelper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h3",{attrs:{id:"db-findone-query"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#db-findone-query"}},[t._v("#")]),t._v(" db.findOne(query)")]),t._v(" "),a("p",[t._v("数据库中查找符合条件的单条数据")]),t._v(" "),a("ul",[a("li",[t._v("参数：")])]),t._v(" "),a("ol",[a("li",[a("code",[t._v("{Object} query 查询条件（可选）")])])]),t._v(" "),a("ul",[a("li",[t._v("返回："),a("code",[t._v("{Object} 符合条件的数据")])])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" iHelper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("findOne")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  _id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'12asd-asda1-1af12'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h3",{attrs:{id:"db-paging-query-desc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#db-paging-query-desc"}},[t._v("#")]),t._v(" db.paging(query, desc)")]),t._v(" "),a("p",[t._v("插件数据库中分页查找数据，并按照指定顺序返回")]),t._v(" "),a("ul",[a("li",[t._v("参数：")])]),t._v(" "),a("ol",[a("li",[a("code",[t._v("{Object} query 查询条件（可选）")])]),t._v(" "),a("li",[a("code",[t._v("{boolean} desc 是否倒序查询，默认为true（可选）")])])]),t._v(" "),a("ul",[a("li",[t._v("返回："),a("code",[t._v("{Array<Object>} 符合条件的数据")])])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" iHelper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("paging")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  pageNum"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  pageSize"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])])])}),[],!1,null,null,null);s.default=e.exports}}]);